/*
 Copyright (c) 2016, Sven Creations. All rights reserved.
 This work is subject to the terms at http://codecanyon.net/licenses/standard

 @requires jQuery v1.7 or later (tested on 1.11.2)
 @author Sven Creations, svencreations@gmail.com
*/
'use strict';(function(b){b.svenPlugin=function(c,S){function W(d,m,f){d=new b.BigVideo({useFlashForFirefox:!1,container:P,doLoop:d});d.init();d.show(m,{ambient:f});return d}function kb(b){Math.round(100*b.loaded)}function lb(b){"splash-image"==b.item.id&&(b=G.getItem("splash-image"),Ta.css("background-image","url("+b.src+")"))}function mb(b){console.log(b)}function nb(b){if("splash-image"==b.data.id){var m=G.getItem("splash-image");Ta.css("background-image","url("+m.src+")")}console.log(b.data.id+
" File preload exceeds timeout")}function ob(d){ea&&("single-image"===t?(d=G.getItem("static-image"),Q.append("<img src='"+d.src+"' width='"+d.naturalWidth+"' height='"+d.naturalHeight+"' alt=''/>"),Q=Q.find("img"),D&&(fa=c.data().mobileImagePos?c.data().mobileImagePos:"center center"),fa=fa.split(" "),imgCoverEffect(Q[0],{alignX:fa[0],alignY:fa[1],watchResize:!1})):(d=G.getItem("preview-image"),X.css("background-image","url("+d.src+")")));var m,f=0;Ua.each(function(d,a){if(!D&&b(this).data().sceneVideo)0==
f&&(b(this).data().sceneImage&&(m=G.getItem(b(this)[0].id),X.css("background-image","url("+m.src+")")),f+=1);else if(b(this).data().sceneImage||D&&b(this).data().mobileImage){m=G.getItem(b(this)[0].id);na.append("<div class='scene-image gpu-hack "+b(this)[0].id+" abs-fs'><img src='"+m.src+"' width='"+m.naturalWidth+"' height='"+m.naturalHeight+"' alt=''/></div>");var g=na.find("."+b(this)[0].id+" img"),k;k=D?b(this).data().mobileImagePos?b(this).data().mobileImagePos:"center center":b(this).data().sceneImagePos?
b(this).data().sceneImagePos:"center center";k=k.split(" ");imgCoverEffect(g[0],{alignX:k[0],alignY:k[1],watchResize:!1})}else na.append("<div class='scene-image gpu-hack "+b(this)[0].id+" abs-fs'><div class='noimage'></div></div>")});Y&&(B=createjs.Sound.play(Va),B.loop=Da,B.position=100,B.on("complete",Wa),B.paused=!0);if(!Ea&&("video-bg"===t&&"youtube"===T||!D&&0<ga.length))U.on("YTPReady",function(){0===ra&&(ha=P.find(".mbYTP_wrapper"),va(t))});else va()}function va(){b.isFunction(w.onTeaserReady)&&
w.onTeaserReady.call(c);b("body").addClass("set-overflow");"video-bg"===t&&"youtube"===T&&TweenMax.set(X,{autoAlpha:0});w.autoStart?c.trigger("STUnMuted"):c.trigger("STMuted");K.init()}function sa(){B.play();if("undefined"!==typeof B){var b=Math.round(B.duration),m=Math.round(1E3*n[l].totalTime().toFixed(1)/n[l].timeScale()),f=m;0>Da&&m>b&&(f=m%b);B.position=f;c.trigger("STUnMuted")}}function Wa(){ia=!0;B.paused=!0;c.trigger("STMuted")}function oa(){Z&&q.pause();I&&I.YTPPause()}function wa(){Z&&q.play();
I&&I.YTPPlay()}function Fa(){ca&&q.pause();ja&&I.YTPPause()}function Ga(){ca&&q.play();ja&&I.YTPPlay()}function pb(d,m,f){m.data().sceneImage&&(m=G.getItem(m[0].id).src,X.css("background-image","url("+m+")"));TweenMax.set(X,{autoAlpha:1});if("html5"===f){ca=!0;ja=!1;TweenMax.set(pa,{autoAlpha:1});var z=b.grep(aa,function(a){return a.sceneIndex==d});-1==q.currentSrc().indexOf(z[0].videoURL)&&Z.show(z[0].videoURL);q.off("timeupdate");q.off("ended");q.muted(z[0].mute);q.currentTime(z[0].startAt);if(Ha)1<
aa.length&&(Ha=!1),xa(),q.on("timeupdate",function(){if(0!=z[0].stopAt&&q.currentTime()>=z[0].stopAt||0==z[0].stopAt&&q.currentTime()>=q.duration())z[0].loop?(q.loop(!0),q.currentTime(z[0].startAt),q.play()):(ca=!1,q.pause())}),q.play();else q.one("loadeddata",function(){xa();q.on("timeupdate",function(){if(0!=z[0].stopAt&&q.currentTime()>=z[0].stopAt||0==z[0].stopAt&&q.currentTime()>=q.duration())z[0].loop?(q.loop(!0),q.currentTime(z[0].startAt),q.play()):(ca=!1,q.pause())});q.play()})}else ca=!1,
ja=!0,z=b.grep(ga,function(a){return a.sceneIndex==d}),z[0].videoURL==U[0].opt.videoURL?(xa(),I.YTPSeekTo(z[0].startAt),TweenMax.set(ha,{autoAlpha:1}),I.YTPPlay()):(z[0].autoPlay=!0,I.changeMovie(z[0]),U.one("YTPReady",function(){xa();b(this).YTPSeekTo(z[0].startAt);TweenMax.set(ha,{autoAlpha:1});b(this).YTPPlay()}))}function xa(){TweenMax.set(X,{autoAlpha:0})}function qb(){b.isFunction(w.onTeaserStart)&&w.onTeaserStart.call(c);Ia.hide();w.freezeOnBlur&&(clearInterval(Xa),Xa=setInterval(rb,400));
"undefined"!==typeof B&&((!D||D&&!w.autoStart)&&sb&&"paused"!=V||"playing"===V?(sa(),B.paused=!1,c.trigger("STUnMuted"),V="playing"):(B.paused=!0,c.trigger("STMuted"),V="paused"));"single-image"===t&&ka.paused()&&ka.resume();if("video-bg"===t){var d=ya;Z&&q.currentTime(d);I&&I.YTPSeekTo(d);"youtube"===T&&TweenMax.set(ha,{autoAlpha:1});wa();Y||"video-bg"!==t||qa||("html5"===T?q.muted()?c.trigger("STMuted"):c.trigger("STUnMuted"):U.isMute?c.trigger("STMuted"):c.trigger("STUnMuted"))}}function tb(){c.trigger("STEnd");
"undefined"!==typeof B&&ub&&Wa();"video-bg"===t&&vb&&oa();b.isFunction(w.onTeaserEnd)&&w.onTeaserEnd.call(c)}function rb(){document.hasFocus()?K.continueTeaser():K.freezeTeaser()}function wb(b){ka=new TimelineMax({delay:0});var m=b.totalDuration();Ya=m+.75;Ja&&(ka.addLabel("imageZoomer"),b.add(ka,m));b.to(Q,.75,{opacity:1})}function xb(){ka.pause()}function Za(b){"single-image"===t&&b.set(Q,{autoAlpha:0,onComplete:xb,onCompleteParams:[]});"video-bg"===t&&b.set(P,{autoAlpha:0,onComplete:oa,onCompleteParams:[]})}
function yb(d,m,f,z){var a=f.trans,g=f.transDur,k=d.attr("id"),p,c,e=!1;0!=m?(c=d.prevAll(".sven-slide:first"),p=c.attr("id")):(c=b(".extinct"),p="sven-nothing");if("no"==f.pursueImage){var r=na.find("."+k+" img, ."+k+" div"),J=na.find("."+p+" img, ."+p+" div, ."+za+" div, ."+za+" img");p=b(".scene-image").not("."+k+", ."+p+", ."+za).find("img, div");$a=r;za=k;z.set(p,{autoAlpha:0})}else r=$a,J=b(".sven-not-found");D||!f.sceneVideo&&!f.sceneImage&&"no"!==f.pursueVideo||(e=!0);z.addLabel(k+"-before");
var x;p=d.find(".bt-container");if(0<p.length){var h=p.data().xStart?p.data().xStart:"-100%",l=p.data().fontMax?parseInt(p.data().fontMax):728;p.wrapInner("<div class='bt-wrapper'></div>");x=p.find(".bt-wrapper");x.bigtext({childSelector:"h1",maxfontsize:l,resize:!1});z.set(p,{x:h})}g="default"==g?1.4:parseFloat(g);g/=2;p=b.grep(svenTransitions.vegas,function(b){return b.name==a});0!=m&&b.grep(svenTransitions.vegas,function(a){return a.name==c.data().trans});"fade-screen"==p[0].template?(z.to(Ka,
g,{autoAlpha:1,ease:Linear.easeNone}),Za(z),z.set(c,{display:"none"}),e&&z.addLabel("hideP-"+m),0<r.length&&z.set(r,{autoAlpha:1})):("none"!=a&&Za(z),z.set(c,{display:"none"}),e&&z.addLabel("hideP-"+m));z.set(d,{visibility:"visible"});x=p[0].type?p[0].type:"throughout";h=p[0].alphaDuration?parseFloat(p[0].alphaDuration):.95;p[0].in[0].to.ease||(p[0].in[0].to.ease=Linear.easeNone);p[0].out&&!p[0].out[0].to.ease&&(p[0].out[0].to.ease=Linear.easeNone);"prior"==x&&(k+="-prior",z.addLabel(k+"-label"));
H[k]=new TimelineMax;H[k+"-alpha"]=new TimelineMax;"no"==f.pursueImage&&H[k+"-alpha"].to(r,h,{autoAlpha:1},0);"fade-screen"==p[0].template&&H[k+"-alpha"].to(Ka,g,{autoAlpha:0},0);H[k].data={};H[k].data.duration=p[0].in[0].duration?p[0].in[0].duration:"full";H[k].fromTo(r,1.08,p[0].in[0].from,p[0].in[0].to,0);0<J.length&&H[k+"-alpha"].set(J,{autoAlpha:0});"prior"==x&&(g=p[0].in[0].duration?p[0].in[0].duration:1.5,z.add(H[k+"-alpha"],k+"-label"),z.add(H[k].duration(g),k+"-label"));e&&z.set({},{immediateRender:!1,
onStart:ab,onStartParams:[]},"hideP-"+m);!D&&f.sceneVideo&&z.set({},{immediateRender:!1,onComplete:pb,onCompleteParams:[m,d,f.videoType]})}function ab(){I&&(ja=!1,TweenMax.set(ha,{autoAlpha:0}));pa&&(ca=!1,TweenMax.set(pa,{autoAlpha:0}));oa()}function bb(b,m,f,c,a,g,k){a=L(b,f,c,a,!1,!1);var p,R,e,r,J,x,h;h=a.content0.data().staggerTime?parseFloat(a.content0.data().staggerTime):.08;r=a.content0.data().inEase?A(a.content0.data().inEase):"";J=a.content0.data().outEase?A(a.content0.data().outEase):Circ.easeIn;
x=a.split0;R=La(a.wrapper0);"halign-left"==a.slideAlignment||"halign-center"==a.slideAlignment?(p=R.offLeft,p="-"+Math.ceil(.6*p)+"px",R=Math.ceil(R.offRight+R.extWidth)+"px",e="sequential"):(p=R.offRight,p=Math.ceil(.6*p)+"px",R="-"+Math.ceil(R.offLeft+R.extWidth)+"px",e="reverse");g.set(a.wrapper0,{x:p});g.set(x.chars,{y:"-50%",opacity:0});e=a.content0.data().inPattern?a.content0.data().inPattern:e;x.chars=M(e,x.chars);k||(R="0px");if(a.content1){var l,u,F,v,y,E,n,q;q=a.content1.data().staggerTime?
parseFloat(a.content1.data().staggerTime):.08;v=a.content1.data().inPattern?a.content1.data().inPattern:"sequential";y=a.content1.data().inEase?A(a.content1.data().inEase):"";E=a.content1.data().outEase?A(a.content1.data().outEase):"";n=a.split1;l=La(a.wrapper1);u=La(a.backdrop1);"halign-left"==a.slideAlignment?(p=u.offLeft,e="right center",F="left center",k="-"+Math.ceil(p+u.extWidth)+"px",l=Math.ceil(l.offRight+l.extWidth)+"px",p=Ma(p,a.backdrop1),u=Math.ceil(u.offRight/u.extWidth)+2):(p=u.offRight,
e="left center",F="right center",k=Math.ceil(p+u.extWidth)+"px",l="-"+Math.ceil(l.offLeft+l.extWidth)+"px",p=Ma(p,a.backdrop1),u=Math.ceil(u.offLeft/u.extWidth)+2);g.set(a.backdrop1,{x:k,transformOrigin:e,scaleX:p});g.set(n.chars,{y:"-50%",opacity:0});n.chars=M(v,n.chars)}g.set(c,{visibility:"visible"});g.addLabel(a.marker);g=N(!1);g["in"].staggerTo(x.chars,.2,{y:"0%",opacity:1,ease:r},h,0);g["in"].to(a.wrapper0,g["in"].duration()+.1,{x:"0px"},0);a.content1&&(g["in"].to(a.backdrop1,1,{scaleX:1,rotation:.01,
x:0},.18*g["in"].duration()),g["in"].staggerTo(n.chars,.2,{y:"0%",opacity:1,ease:y},q,.8*g["in"].duration()));f.inDur&&g["in"].duration(parseFloat(f.inDur));"none"!=f.outDur&&(g.out.to(a.wrapper0,.5,{x:R,opacity:0,ease:J}),a.content1&&(g.out.to(a.backdrop1,.5,{scaleX:u,rotation:.01,transformOrigin:F},"-=0.4"),g.out.to(a.wrapper1,.35,{x:l,opacity:0,ease:E},"-=0.3")),f.outDur&&g.out.duration(parseFloat(f.outDur)));O(b,g,m,f,a.marker,c,!1)}function zb(d,m,f,c,a,g){a=L(d,f,c,a,!1,!1);var k,p,l,e,r,J,
x,h,n;n=a.content0.data().staggerTime?parseFloat(a.content0.data().staggerTime):.08;e=a.split0;k=a.content0.data().inPattern?a.content0.data().inPattern:"random";p=a.content0.data().inEase?A(a.content0.data().inEase):"";l=a.content0.data().outEase?A(a.content0.data().outEase):"";e.chars=M(k,e.chars);b.each(e.chars,function(a,e){r=b(e).outerWidth();J=b(e).outerHeight();x=["rect(0px, 0px, 0px, 0px)","rect("+J+"px, "+r+"px, "+J+"px, "+r+"px)","rect("+J+"px, 0px, "+J+"px, 0px)","rect(0px, "+r+"px, 0px, "+
r+"px)"];h=x[a%4];g.set(b(e),{clip:h})});if(a.content1){var u,F;u=a.content1.data().inEase?A(a.content1.data().inEase):Bounce.easeOut;F=a.content1.data().outEase?A(a.content1.data().outEase):"";k=a.content1.hasClass("place-left")?"left top":a.content1.hasClass("place-right")?"right top":"center top";g.set(a.backdrop1,{scale:0,transformOrigin:k});g.set(a.content1,{opacity:0,transformOrigin:k})}g.set(c,{visibility:"visible"});g.addLabel(a.marker);var v=N(!0);b.each(e.chars,function(a,e){var h=(a+1)*
n;r=b(e).outerWidth();J=b(e).outerHeight();v.repeat.to(b(e),1.25,{clip:"rect(0px, "+r+"px, "+J+"px, 0px)",ease:p},h)});v["in"].add(v.repeat);a.content1&&(v["in"].to(a.backdrop1,.25,{scale:1.2,rotation:.01,ease:Linear.easeNone}),v["in"].to(a.backdrop1,.6,{scale:1,rotation:.01,ease:u}),v["in"].to(a.content1,.75,{opacity:1}));f.inDur&&v["in"].duration(parseFloat(f.inDur));"none"!=f.outDur&&(v.out.add(v.repeat.tweenFromTo(0,v.repeat.duration(),{ease:l}).timeScale(2).reverse()),a.content1&&v.out.to([a.content1,
a.backdrop1],.6*v.out.duration(),{scale:0,rotation:.01,ease:F},"-="+.8*v.out.duration()),f.outDur&&v.out.duration(parseFloat(f.outDur)));O(d,v,m,f,a.marker,c,!0)}function Ab(d,m,f,c,a,g){a=L(d,f,c,a,!1,!1);var k,p,l,e,r,J,x;x=a.content0.data().staggerTime?parseFloat(a.content0.data().staggerTime):.08;e=a.split0;k=a.content0.data().inPattern?a.content0.data().inPattern:"random";p=a.content0.data().inEase?A(a.content0.data().inEase):"";l=a.content0.data().outEase?A(a.content0.data().outEase):"";e.chars=
M(k,e.chars);b.each(e.chars,function(a,e){r=b(e).outerWidth();g.set(b(e),{clip:"rect(0px, "+r+"px, 0px, 0px)"})});if(a.content1){var h=a.content1.data().inEase?a.content1.data().inEase:Bounce.easeOut,n=a.content1.data().outEase?A(a.content1.data().outEase):"";g.set(a.wrapper1,{overflow:"hidden"});g.set([a.content1,a.backdrop1],{y:"-104%"})}g.set(c,{visibility:"visible"});g.addLabel(a.marker);var u=N(!0);b.each(e.chars,function(a,e){var h=a*x;r=b(e).outerWidth();J=b(e).outerHeight();u.repeat.to(b(e),
1.5,{clip:"rect(0px, "+r+"px, "+J+"px, 0px)",ease:p},h)});u["in"].add(u.repeat);a.content1&&u["in"].to([a.content1,a.backdrop1],.8,{y:"0%",ease:h});f.inDur&&u["in"].duration(parseFloat(f.inDur));"none"!=f.outDur&&(u.out.add(u.repeat.tweenFromTo(0,u.repeat.duration(),{ease:l}).timeScale(2).reverse()),a.content1&&u.out.to(a.wrapper1,.8,{opacity:0,ease:n},"-=1"),f.outDur&&u.out.duration(parseFloat(f.outDur)));O(d,u,m,f,a.marker,c,!0)}function Bb(d,m,f,c,a,g){a=L(d,f,c,a,!1,!1);var k,p,l,e,r,n,x;x=a.content0.data().staggerTime?
parseFloat(a.content0.data().staggerTime):.04;e=a.split0;k=a.content0.data().inPattern?a.content0.data().inPattern:"random";p=a.content0.data().inEase?A(a.content0.data().inEase):"";l=a.content0.data().outEase?A(a.content0.data().outEase):"";e.chars=M(k,e.chars);b.each(e.chars,function(a,e){r=b(e).outerWidth();g.set(b(e),{clip:"rect(0px, "+r+"px, 0px, 0px)",scale:0})});if(a.content1){var h=a.content1.data().inEase?a.content1.data().inEase:Bounce.easeOut,q=a.content1.data().outEase?A(a.content1.data().outEase):
"";g.set(a.wrapper1,{overflow:"hidden"});g.set([a.content1,a.backdrop1],{y:"-104%"})}g.set(c,{visibility:"visible"});g.addLabel(a.marker);var u=N(!0);b.each(e.chars,function(a,e){var h=a*x;r=b(e).outerWidth();n=b(e).outerHeight();u.repeat.to(b(e),.8,{clip:"rect(0px, "+r+"px, "+n+"px, 0px)",scale:1,ease:p},h)});u["in"].add(u.repeat);a.content1&&u["in"].to([a.content1,a.backdrop1],.8,{y:"0%",ease:h});f.inDur&&u["in"].duration(parseFloat(f.inDur));"none"!=f.outDur&&(u.out.add(u.repeat.tweenFromTo(0,
u.repeat.duration(),{ease:l}).timeScale(2).reverse()),a.content1&&u.out.to(a.wrapper1,.8,{opacity:0,ease:q},"-=1"),f.outDur&&u.out.duration(parseFloat(f.outDur)));O(d,u,m,f,a.marker,c,!0)}function Cb(d,m,f,c,a,g){a=L(d,f,c,a,!1,!1);var k,p,l,e;e=a.content0.data().staggerTime?parseFloat(a.content0.data().staggerTime):.15;l=a.split0;k=a.content0.data().inPattern?a.content0.data().inPattern:"sequential";a.content0.data().inEase&&A(a.content0.data().inEase);p=a.content0.data().outEase?A(a.content0.data().outEase):
"";l.chars=M(k,l.chars);g.set(l.chars,{autoAlpha:0,scale:.7});if(a.content1){var r=a.content1.data().inEase?a.content1.data().inEase:Bounce.easeOut,n=a.content1.data().outEase?A(a.content1.data().outEase):"";g.set(a.wrapper1,{overflow:"hidden"});g.set([a.content1,a.backdrop1],{y:"-104%"})}g.set(c,{visibility:"visible"});g.addLabel(a.marker);var x=N(!0);b.each(l.chars,function(a,f){x.repeat.addLabel("rotate-in-"+a,a*e);x.repeat.to(b(f),.35,{autoAlpha:1,rotation:30,transformOrigin:"center bottom",scale:1.1},
"rotate-in-"+a);x.repeat.to(b(f),.25,{rotation:0,scale:1,transformOrigin:"center bottom",ease:Back.easeIn},"rotate-in-"+a+"+=0.35")});x["in"].add(x.repeat);a.content1&&x["in"].to([a.content1,a.backdrop1],.8,{y:"0%",ease:r});f.inDur&&x["in"].duration(parseFloat(f.inDur));"none"!=f.outDur&&(x.out.add(x.repeat.tweenFromTo(0,x.repeat.duration(),{ease:p}).timeScale(2).reverse()),a.content1&&x.out.to(a.wrapper1,.8,{opacity:0,ease:n},"-=1"),f.outDur&&x.out.duration(parseFloat(f.outDur)));O(d,x,m,f,a.marker,
c,!0)}function Db(d,m,f,c,a,g){a=L(d,f,c,a,!1,!1);var k=a.content0.data().inEase?A(a.content0.data().inEase):SlowMo.ease.config(3,.7,!1),p=a.content0.data().outEase?A(a.content0.data().outEase):"",l=a.split0,e,r,n,x,h,q,u=1;a.content0.hasClass("place-left")?q="-"+Math.ceil(Aa(a.wrapper0,d)+a.wrapper0.outerWidth())+"px":a.content0.hasClass("place-right")?q=Math.ceil(a.wrapper0.offset().left+a.wrapper0.outerWidth())+"px":(q=Math.ceil(a.wrapper0.offset().left+a.wrapper0.outerWidth())+"px",u=0);b(l.chars).each(function(a,
f){r=Math.ceil(b(f).outerHeight()/4);e=Math.ceil(b(f).outerWidth()/2);for(var d=0;7>d;d++)b(f).parent().append(b(f).clone());x=c.find(".sven-char-"+(a+1));for(d=0;2>d;d++)h="rect(0px, "+e*(d+1)+"px, "+1*r+"px, "+e*d+"px)",n=d,g.set(x.eq(n),{x:q,opacity:u,clip:h});for(d=0;2>d;d++)h="rect("+1*r+"px, "+e*(d+1)+"px, "+2*r+"px, "+e*d+"px)",n=d+2,g.set(x.eq(n),{x:q,opacity:u,clip:h});for(d=0;2>d;d++)h="rect("+2*r+"px, "+e*(d+1)+"px, "+3*r+"px, "+e*d+"px)",n=d+4,g.set(x.eq(n),{x:q,opacity:u,clip:h});for(d=
0;2>d;d++)h="rect("+3*r+"px, "+e*(d+1)+"px, "+4*r+"px, "+e*d+"px)",n=d+6,g.set(x.eq(n),{x:q,opacity:u,clip:h})});if(a.content1){var F=a.content1.data().inEase?a.content1.data().inEase:"",v=a.content1.data().outEase?A(a.content1.data().outEase):"",y;y=a.content1.hasClass("place-left")?"right center":a.content1.hasClass("place-right")?"left center":"center center";g.set(a.backdrop1,{scaleX:0,transformOrigin:y});g.set(a.content1,{opacity:0})}g.set(c,{visibility:"visible"});g.addLabel(a.marker);var E=
N(!0);b(l.chars).each(function(a,b){x=c.find(".sven-char-"+(a+1));E.repeat.staggerTo(x,.1,{x:0,opacity:1,ease:k},.08,1*Math.random())});E["in"].add(E.repeat,0);a.content1&&(E["in"].to(a.backdrop1,E.repeat.duration()-.2,{scaleX:1,rotation:.01,ease:F},.2),E["in"].to(a.content1,.75,{opacity:1}));f.inDur&&E["in"].duration(parseFloat(f.inDur));"none"!=f.outDur&&(E.out.add(E.repeat.tweenFromTo(0,E.repeat.duration(),{ease:p}).timeScale(2).reverse()),F=E.out.duration(),a.content1&&(E.out.to(a.content1,.2*
F,{opacity:0},0),E.out.to(a.backdrop1,.65*F,{scaleX:0,rotation:.01,ease:v},0)),f.outDur&&E.out.duration(parseFloat(f.outDur)));O(d,E,m,f,a.marker,c,!0)}function Eb(d,m,f,c,a,g){a=L(d,f,c,a,!1,!1);var k,p,l,e,r;e=a.split0;r=a.content0.data().staggerTime?parseFloat(a.content0.data().staggerTime):.08;k=a.content0.data().inPattern?a.content0.data().inPattern:"random";p=a.content0.data().inEase?A(a.content0.data().inEase):"";l=a.content0.data().outEase?A(a.content0.data().outEase):"";e.chars=M(k,e.chars);
if(a.content1){var n=a.content1.data().inEase?a.content1.data().inEase:Bounce.easeOut,x=a.content1.data().outEase?A(a.content1.data().outEase):"";g.set(a.wrapper1,{overflow:"hidden"});g.set([a.content1,a.backdrop1],{y:"-104%"})}g.set(c,{visibility:"visible"});g.addLabel(a.marker);var h=N(!0);b.each(e.chars,function(a,e){var d=a*r;h.repeat.from(b(e),.8,{opacity:0,ease:p},d)});h["in"].add(h.repeat);a.content1&&h["in"].to([a.content1,a.backdrop1],.8,{y:"0%",ease:n});f.inDur&&h["in"].duration(parseFloat(f.inDur));
"none"!=f.outDur&&(a.content1&&h.out.to([a.content1,a.backdrop1],.1,{y:"-100%",ease:x}),h.out.add(h.repeat.tweenFromTo(0,h.repeat.duration(),{ease:l}).timeScale(2).reverse()),f.outDur&&h.out.duration(parseFloat(f.outDur)));O(d,h,m,f,a.marker,c,!0)}function Fb(d,m,f,c,a,g){a=L(d,f,c,a,!1,!1);var k=f.firstIn?parseBool(f.firstIn):!1,p=f.lastOut?parseBool(f.lastOut):!1,l="default"==f.rotFreeze?.8:parseFloat(f.rotFreeze);"default"==f.overlapTime||parseFloat(f.overlapTime);var e,r,n,x,h=a.split0;x=a.content0.data().staggerTime?
parseFloat(a.content0.data().staggerTime):.05;e=a.content0.data().inPattern?a.content0.data().inPattern:"sequential";r=a.content0.data().inEase?A(a.content0.data().inEase):Sine.easeOut;n=a.content0.data().outEase?A(a.content0.data().outEase):Sine.easeOut;var q=h.lines.length,u=a.wrapper0.outerHeight(),F=u/q,v=b(window).height(),u=u>v?Math.ceil((v-F)/2)+"px":Math.ceil((u-F)/2)+"px";1<q&&g.set(h.lines,{top:u,perspective:1E3,transformOrigin:"50% 100%"});g.set(c,{visibility:"visible"});g.addLabel(a.marker);
var y=N(!0);b.each(h.lines,function(a,d){var f=b(d).find(".s-char"),h="codfx9-"+a,c="codfx9-"+(a+1),f=M(e,f);(0<a||0==a&&k)&&b.each(f,function(a,e){var d=h+"+="+x;y.repeat.fromTo(b(e),.4,{opacity:0,rotationY:-90},{opacity:1,rotationY:0,ease:r},d)});if(a!=q-1||p&&a==q-1)y.repeat.set({},{},"+="+l),b.each(f,function(a,e){var d=c+"+=0.05";y.repeat.to(b(e),.2,{opacity:0,rotationY:45,ease:n},d)})});y["in"].add(y.repeat);f.inDur&&y["in"].duration(parseFloat(f.inDur));O(d,y,m,f,a.marker,c,!0)}function cb(d,
c,f,l,a,g,k){a=L(d,f,l,a,!1,!1);var p;p=db?"0px":D?"2px":"20px";var n,e,r,q,x,h=a.split0;q=a.content0.data().staggerTime?parseFloat(a.content0.data().staggerTime):.04;n=a.content0.data().inPattern?a.content0.data().inPattern:"random";e=a.content0.data().inEase?A(a.content0.data().inEase):Linear.easeNone;r=a.content0.data().outEase?A(a.content0.data().outEase):"";h.chars=M(n,h.chars);x=a.content0.css("color");if(a.content1){var w,u,F,v;u=a.split1;F=a.content1.data().staggerTime?parseFloat(a.content1.data().staggerTime):
.04;n=a.content1.data().inPattern?a.content1.data().inPattern:"random";w=a.content1.data().inEase?a.content1.data().inEase:Bounce.easeOut;a.content1.data().outEase&&A(a.content1.data().outEase);u.chars=M(n,u.chars);v=a.content1.css("color")}g.set(l,{visibility:"visible"});g.addLabel(a.marker);var y=N(!0);b.each(h.chars,function(a,d){var f=a*q;y.repeat.fromTo(b(d),.8,{opacity:0,textShadow:"0 0 "+p+" "+x,scale:1.2,color:"transparent",ease:e},{opacity:1,scale:1,color:x,textShadow:"none"},f)});a.content1&&
(y.repeat.addLabel("blurSub","+=0"),b.each(u.chars,function(a,e){var d="blurSub+="+a*F;y.repeat.fromTo(b(e),.8,{opacity:0,textShadow:"0 0 "+p+" "+v,scale:1.2,color:"transparent",ease:w},{opacity:1,scale:1,color:v,textShadow:"none"},d)}));y["in"].add(y.repeat);f.inDur&&y["in"].duration(parseFloat(f.inDur));"none"!=f.outDur&&(k?y.out.to(a.content1?[a.wrapper0,a.wrapper1]:[a.wrapper0],.75,{autoAlpha:0}):y.out.add(y.repeat.tweenFromTo(0,y.repeat.duration(),{ease:r}).timeScale(2).reverse()),f.outDur&&
y.out.duration(parseFloat(f.outDur)));O(d,y,c,f,a.marker,l,!0)}function Gb(d,c,f,l,a,g){a=L(d,f,l,a,!1,!0);b.each(a.split0.lines,function(a,d){Math.ceil(b(d).outerHeight()/8);Math.ceil(b(d).outerWidth());for(var e=0;7>e;e++)b(this).after(b(d).clone());b(this).parent().find(".sven-line-"+(a+1)).each(function(a,e){g.set(b(e),{clip:"rect(0px, 0px, 0px 0px)"})})});a.content1&&g.set(a.wrapper1,{autoAlpha:0});g.set(l,{visibility:"visible"});g.addLabel(a.marker);var k=N(!0);b.each(a.split0.lines,function(a,
d){var e=Math.ceil(b(d).outerHeight()/8),f=Math.ceil(b(d).outerWidth()),c=b(this).parent().find(".sven-line-"+(a+1)),m=new TimelineMax;c.each(function(d,c){var g,k=0;g=0==d%2?"rect("+e*d+"px, 0px, "+e*(d+1)+"px, 0px)":"rect("+e*d+"px, "+f+"px, "+e*(d+1)+"px, "+f+"px)";4>d?(m.addLabel("pos-"+a+"-"+d),k="pos-"+a+"-"+d):k="pos-"+a+"-"+(7-d);m.fromTo(b(c),.6,{clip:g},{clip:"rect("+e*d+"px, "+f+"px, "+e*(d+1)+"px, 0px)"},k)});k.repeat.add(m,0)});k["in"].add(k.repeat);a.content1&&k["in"].to(a.wrapper1,
.75,{autoAlpha:1});f.inDur&&k["in"].duration(parseFloat(f.inDur));"none"!=f.outDur&&(k.out.add(k.repeat.tweenFromTo(0,k.repeat.duration()).timeScale(2).reverse()),a.content1&&k.out.to([a.wrapper1],.75,{autoAlpha:0},0),f.outDur&&k.out.duration(parseFloat(f.outDur)));O(d,k,c,f,a.marker,l,!0)}function Hb(d,c,f,l,a,g){a=L(d,f,l,a,!1,!1);var k;k=db?"0px":D?"2px":"20px";var p,n,e,r,q;r=a.split0;q=a.content0.data().staggerTime?parseFloat(a.content0.data().staggerTime):.08;p=a.content0.data().inPattern?a.content0.data().inPattern:
"sequential";n=a.content0.data().inEase?A(a.content0.data().inEase):Bounce.easeOut;e=a.content0.data().outEase?A(a.content0.data().outEase):"";r.chars=M(p,r.chars);var x=[],h,w,u;g.set(r.chars,{overflow:"hidden"});b.each(r.chars,function(a,d){h="sven-char-sub-"+(a+1);w=b(d).outerWidth();u=b(d).outerHeight();b(d).wrapInner("<div class='"+h+"' style='width: "+w+"px; height: "+u+"px'></div>");x.push(b(d).find("."+h))});g.set(x,{x:"-100%"});if(a.content1){var F,v,y,E;v=a.split1;y=a.content1.data().staggerTime?
parseFloat(a.content1.data().staggerTime):.08;p=a.content1.data().inPattern?a.content1.data().inPattern:"sequential";F=a.content1.data().inEase?a.content1.data().inEase:"";a.content1.data().outEase&&A(a.content1.data().outEase);v.chars=M(p,v.chars);E=a.content1.css("color")}g.set(l,{visibility:"visible"});g.addLabel(a.marker);var t=N(!0);b.each(x,function(a,d){var e=a*q;t.repeat.to(b(d),1.25,{x:"0%",ease:n},e)});a.content1&&(t.repeat.addLabel("blurSub","+=0"),b.each(v.chars,function(a,d){var e="blurSub+="+
a*y;t.repeat.fromTo(b(d),.8,{opacity:0,textShadow:"0 0 "+k+" "+E,scale:1.2,rotation:.01,color:"transparent",ease:F},{opacity:1,scale:1,color:E,textShadow:"none"},e)}));t["in"].add(t.repeat);f.inDur&&t["in"].duration(parseFloat(f.inDur));"none"!=f.outDur&&(t.out.add(t.repeat.tweenFromTo(0,t.repeat.duration(),{ease:e}).timeScale(2).reverse()),f.outDur&&t.out.duration(parseFloat(f.outDur)));O(d,t,c,f,a.marker,l,!0)}function Ib(d,c,f,l,a,g){a=L(d,f,l,a,!0,!0);if(100>a.content0.outerHeight())var k=Math.ceil(a.content0.outerHeight()-
1),p=1;else k=99,p=Math.ceil(a.content0.outerHeight()/100);for(var n=a.content0.outerWidth(),e=0;e<k;e++)a.wrapper0.append(a.content0.clone());k=a.wrapper0.find("h1");k.each(function(a,d){g.set(b(d),{position:"absolute",left:0,top:0,x:0,opacity:1,clip:"rect("+p*a+"px, "+n+"px, "+p*(a+1)+"px, 0px)"})});g.set(a.wrapper0,{autoAlpha:0});a.content1&&g.set(a.wrapper1,{autoAlpha:0});g.set(l,{visibility:"visible"});g.addLabel(a.marker);var r=N(!0);r["in"].to(a.wrapper0,.75,{autoAlpha:1},0);k.each(function(a,
d){r.repeat.to(b(this),.1,{x:randomInt(-5,5),opacity:randomFloat(.8,1),ease:RoughEase.ease.config({strength:5,points:50,template:SlowMo.ease,clamp:!1,taper:"out"})},0)});r["in"].add(r.repeat,"+=0.2");ta(r["in"],r.repeat,k,1,!1,"+=0.1");ta(r["in"],r.repeat,k,.5,!1,"+=0.4");ta(r["in"],r.repeat,k,.5,!0,"+=3");ta(r["in"],r.repeat,k,.5,!1,"+=0.4");ta(r["in"],r.repeat,k,.5,!1,"+=2");r["in"].to(k,.25,{x:0,opacity:1,ease:RoughEase.ease.config({strength:5,points:50,template:SlowMo.ease,clamp:!1,taper:"out"})});
r["in"].set(k,{x:0,opacity:1});a.content1&&r["in"].to(a.wrapper1,.75,{autoAlpha:1},"comingSubContent");f.inDur&&r["in"].duration(parseFloat(f.inDur));"none"!=f.outDur&&(r.out.to([a.content0],.75,{autoAlpha:0},0),a.content1&&r.out.to([a.wrapper1],.75,{autoAlpha:0},0),f.outDur&&r.out.duration(parseFloat(f.outDur)));O(d,r,c,f,a.marker,l,!1)}function ta(b,c,f,l,a,g){b.to(f,.25,{x:0,opacity:1,ease:RoughEase.ease.config({strength:5,points:50,template:SlowMo.ease,clamp:!1,taper:"out"})});a&&b.addLabel("comingSubContent",
"+=0.3");b.add(c.tweenFromTo(0,c.duration()).timeScale(l),g)}function L(d,c,f,l,a,g){var k={};k.marker=d.attr("id");c=d.find(".centered");d=d.children();var p;d.hasClass("halign-left")?(p="place-left",k.slideAlignment="halign-left"):d.hasClass("halign-right")?(p="place-right",k.slideAlignment="halign-right"):(p="place-center",k.slideAlignment="halign-center");d=eb(f);var n=0;l.each(function(d,c){b(this).append("<span class='ws-fix'> &nbsp; </span>");var m=b(this).find(".ws-fix"),l=Math.ceil(m.outerWidth());
m.remove();k["content"+d]=b(this);var h=eb(b(this)),q=b(this).data().align?"place-"+b(this).data().align:p,m=b(this).data().boxType?b(this).data().boxType:"contain";b(this).wrap("<div class='content-wrapper content-wrapper-"+d+"' style='position:relative;width:100%;'></div>");k["wrapper"+d]=f.find(".content-wrapper-"+d);0!=d&&"contain"===m&&b(this).css("display","inline-block");b(this).css({display:"block",position:"absolute",width:Math.ceil(b(this).outerWidth()+l)+"px",height:Math.ceil(b(this).outerHeight())+
"px"}).addClass("place-left");if(0==d&&a||1==d&&g||1<d){var u;b(this).removeClass("place-left").addClass(q);k["wrapper"+d].css({height:Math.ceil(b(this).outerHeight())+"px"});u=Math.ceil(b(this).outerWidth());u>n&&(n=u)}else{k["split"+d]=new SplitText(b(this),{type:"words,chars,lines",wordsClass:"s-word gpu-hack sven-word-++",charsClass:"s-char sven-char-++",linesClass:"sven-line-++",position:"absolute"});TweenMax.set(k["split"+d].chars,{force3D:!0,rotationZ:"0.01deg"});b(this).removeClass("place-left").addClass(q);
u=0;var z,v,y=k["split"+d].lines.length;b.each(k["split"+d].lines,function(a,d){var e=b(d).children().last();z=parseInt(e.css("left"))+parseInt(e.css("width"));b(d).css({width:z+"px",right:h.padRight+"px"}).addClass(q);z>u&&(u=z);a==y-1&&(v=parseInt(b(this).css("top"))+parseInt(b(this).css("height")))});b(this).css({width:u+h.horz+"px",height:v+h.padBottom+"px"});k["wrapper"+d].css({height:v+h.padBottom+h.marTop+h.marBottom+"px"});u>n&&(n=u+h.horz)}0<d&&(b(this).after("<div class='lt-boxed content-backdrop-"+
d+"'></div>"),k["backdrop"+d]=f.find(".content-backdrop-"+d),l="full"==m?"100%":b(c).outerWidth()+"px",k["backdrop"+d].css({position:"absolute",width:l,height:b(c).outerHeight()+"px",margin:b(c).css("margin")}),k["backdrop"+d].addClass(q))});f.css({width:n+d.horz+"px"});c.css({"max-width":n+d.horz+"px"});return k}function Ma(b,c){return c.outerWidth()>b?3:Math.ceil(b/c.outerWidth())+2}function La(b){var c={};c.offLeft=b.offset().left-C.offset().left;c.offRight=C.width()-(c.offLeft+b.outerWidth());
c.extWidth=b.outerWidth();c.extHeight=b.outerHeight();return c}function eb(b){var c={};c.padTop=parseInt(b.css("padding-top"));c.padRight=parseInt(b.css("padding-right"));c.padBottom=parseInt(b.css("padding-bottom"));c.padLeft=parseInt(b.css("padding-left"));c.borTop=parseInt(b.css("border-top-width"));c.borRight=parseInt(b.css("border-right-width"));c.borBottom=parseInt(b.css("border-bottom-width"));c.borLeft=parseInt(b.css("border-left-width"));c.marTop=parseInt(b.css("margin-top"));c.marRight=
parseInt(b.css("margin-right"));c.marBottom=parseInt(b.css("margin-bottom"));c.marLeft=parseInt(b.css("margin-left"));c.horz=c.padLeft+c.padRight+c.borLeft+c.borRight;c.vert=c.padTop+c.padBottom+c.borTop+c.borBottom;return c}function Aa(b,c){return c.width()-(b.offset().left+b.outerWidth())}function N(b){var c={};c.in=new TimelineMax;c.out=new TimelineMax;c.full=new TimelineMax;b&&(c.repeat=new TimelineMax);return c}function M(b,c){return"random"===b?shuffleArray(c):"reverse"===b?c.reverse():"median"===
b?centerArray(c):"reverse-median"===b?centerArray(c).reverse():c}function A(b){var c=b.split(".");if(2===c.length)return window[c[0]][c[1]];b=b.match(/true|false|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig).map(JSON.parse);return window[c[0]][c[1]].config.apply(null,b)}function O(d,m,f,q,a,g,k){var p="default"==q.freezeTime?1.5:parseFloat(q.freezeTime),t=q.sceneDelay?parseFloat(q.sceneDelay):0;m.full.addLabel(a+"-beforeIn");m.full.add(m["in"],"+="+t);m.full.addLabel(a+"-beforeFreeze");m.full.addLabel(a+
"-beforeOut","+="+p);"none"!=q.outDur?(m.full.add(m.out,a+"-beforeOut"),m.full.set(g,{visibility:"hidden"})):m.full.set({},{immediateRender:!1},a+"-beforeOut");c.hasClass("animate-colors")&&(g=f%w.colors.length,m.full.to(fb,m.full.duration(),{backgroundColor:w.colors[g]},0));k&&m.full.set({},{immediateRender:!1,onComplete:function(){m.repeat.resume()}});q.sceneDur&&m.full.duration(parseFloat(q.sceneDur));var e={};k=m.full.timeScale();e.in=m["in"].duration()/m["in"].timeScale()/k;e.out=m.out.duration()/
m.out.timeScale()/k;e.full=m.full.duration()/k;e.freeze=p/k;w.showAnimationSummary&&(p="in: "+e.in.toFixed(1)+"s<br/> out: "+e.out.toFixed(1)+"s<br/> freeze: "+e.freeze.toFixed(1)+"s<br/> scene: "+e.full.toFixed(1)+"s",m.full.set(Jb,{text:p},.1),m.full.set(Kb,{text:q.anim},.1));p=d.find(".bt-container");if(0<p.length){k=p.data().animate?p.data().animate:"yes";g=p.data().xEnd?p.data().xEnd:"0%";var t=p.data().dur?parseFloat(p.data().dur):m["in"].duration(),r=p.data().ease?A(p.data().ease):Power4.easeOut;
"yes"===k?n[l].to(p,t,{x:g,ease:r,force3D:!0,rotationZ:"0.01deg"},a):n[l].set(p,{x:"0%"},a)}n[l].add(m.full,a);ua="no"==q.pursueImage?e.full:ua+e.full;H[a]&&(n[l].add(H[a+"-alpha"],a),"full"==H[a].data.duration?n[l].add(H[a].duration(ua),"-="+ua):"in"==H[a].data.duration?n[l].add(H[a].duration(e.in),a):n[l].add(H[a].duration(H[a].data.duration),a),ua=0);n[l].set({},{immediateRender:!1,onComplete:function(){b.isFunction(w.onBeforeScene)&&w.onBeforeScene.call(c,f,d,e,la)}},a+"-before");m.full.set({},
{immediateRender:!1,onComplete:function(){b.isFunction(w.onBeforeIn)&&w.onBeforeIn.call(c,f,d,e,la)}},a+"-beforeIn");m.full.set({},{immediateRender:!1,onComplete:function(){b.isFunction(w.onBeforeFreeze)&&w.onBeforeFreeze.call(c,f,d,e,la)}},a+"-beforeFreeze");"none"!=q.outDur&&m.full.set({},{immediateRender:!1,onComplete:function(){b.isFunction(w.onBeforeOut)&&w.onBeforeOut.call(c,f,d,e,la)}},a+"-beforeOut");n[l].set({},{immediateRender:!1,onComplete:function(){b.isFunction(w.onAfterScene)&&w.onAfterScene.call(c,
f,d,e,la)}},a+"-after")}var K=this,w=b.extend({},{autoStart:!0,fullDuration:"default",preloadMethod:"xhr",preloadFiles:[],fileTimeout:8E3,audioTimeout:8E3,colors:["#E7464F","#CDAA20","#80993B","#07BABA","#9B2C9D"],showAnimationSummary:!1,freezeOnBlur:!0,videoPlaybackChange:!0,onTeaserReady:function(){},onTeaserStart:function(){},onTeaserEnd:function(){},onBeforeScene:function(){},onBeforeIn:function(){},onBeforeFreeze:function(){},onBeforeOut:function(){},onAfterScene:function(){}},S),ma="playing",
Xa,Na=!0,ia=!1,G,da=[],aa=[],ga=[],t,n={},H={},l=c.attr("id"),gb,D=isMobile.any,db=-1<navigator.userAgent.toLowerCase().indexOf("firefox"),hb=b(window).width(),Oa,ra=0,la,$a,za="sven-default",ua=0,Y=c.attr("data-enable-sound")?parseBool(c.attr("data-enable-sound")):!1,Lb=c.attr("data-sound-loop")?parseBool(c.attr("data-sound-loop")):!1,sb=c.attr("data-auto-play-sound")?parseBool(c.attr("data-auto-play-sound")):!0,ub=c.attr("data-auto-stop-sound")?parseBool(c.attr("data-auto-stop-sound")):!1,V,Da,
Ya,ka,ea=c.attr("data-static-image")?parseBool(c.attr("data-static-image")):!1,Pa=c.attr("data-mobile-image")?parseBool(c.attr("data-mobile-image")):!1,fa=c.data().staticImagePos?c.data().staticImagePos:"center center",Ba=c.data().zoomOrigin?c.data().zoomOrigin:"center center",ib=c.data().zoomType?c.data().zoomType:"in",Qa=c.data().zoomDur?parseFloat(c.data().zoomDur):"auto",Ja=c.data().zoomScale?parseFloat(c.data().zoomScale):!1,Ra=c.attr("data-splash-image")?parseBool(c.attr("data-splash-image")):
!1,Ha=!1,ba=!1,ca=!1,ja=!1,Ea=!1,T=c.data().videoType?c.data().videoType:"html5",qa=c.attr("data-mute-video")?parseBool(c.attr("data-mute-video")):!0,Mb=c.data().videoQuality?c.data().videoQuality:"highres",ya=c.data().videoStart?parseInt(c.data().videoStart):.01,Ca=c.data().videoStop?parseInt(c.data().videoStop):0,Sa=c.attr("data-video-loop")?parseBool(c.attr("data-video-loop")):!0,vb=c.attr("data-auto-stop-video")?parseBool(c.attr("data-auto-stop-video")):!1;t=c.data().staticVideo&&!D?"video-bg":
ea||Pa?"single-image":"assorted";Da=Lb?-1:0;D&&c.data().mobileSound&&(Y=c.data().mobileSound);D&&Pa&&(ea=Pa);c.wrap("<div class='sven-wrapper'></div>");var C=c.parent();C.append("<div class='slideshow-wrapper abs-fs'><div class='slideshow-overlay abs-fs'></div></div>");var na=C.find(".slideshow-wrapper");if("single-image"===t){C.append("<div class='single-wrapper abs-fs'><div class='single-overlay abs-fs'></div><div class='single-image abs-fs'></div></div><div class='black-bg abs-fs'></div>");var Q=
C.find(".single-image"),Ka=C.find(".black-bg");da.push({id:"static-image",src:ea,loadTimeout:w.fileTimeout})}else"video-bg"===t&&ea&&da.push({id:"preview-image",src:ea,loadTimeout:w.fileTimeout}),C.append("<div class='black-bg gpu-hack abs-fs'></div>"),Ka=C.find(".black-bg");C.append("<div class='video-wrapper abs-fs'><div class='preview-image abs-fs bg-cover'></div></div><div class='splash-wrapper abs-fs'><div class='splash-overlay abs-fs'></div><div class='splash-image abs-fs bg-cover'></div></div><div class='color-wrapper gpu-hack abs-fs'></div>");
var X=C.find(".preview-image"),P=C.find(".video-wrapper"),fb=C.find(".color-wrapper"),Ia=C.find(".splash-wrapper"),Ta=Ia.find(".splash-image");w.autoStart&&(Ra=!1,Ia.hide());c.hasClass("animate-colors")&&fb.css({"background-color":w.colors[0]});Ra&&da.push({id:"splash-image",src:Ra,loadTimeout:w.fileTimeout});0<w.preloadFiles.length&&b.each(w.preloadFiles,function(b,c){da.push({src:c,loadTimeout:w.fileTimeout})});var Ua=c.find(".sven-slide");Ua.each(function(c,l){var f;if(b(this).data().sceneImage||
b(this).data().mobileImage)b(this).data().sceneImage&&(f=b(this).data().sceneImage),D&&b(this).data().mobileImage&&(f=b(this).data().mobileImage),f&&da.push({id:b(this)[0].id,src:f,loadTimeout:w.fileTimeout});if(!D)if("html5"==b(this).data().videoType){f=b(this).attr("data-mute-video")?parseBool(b(this).attr("data-mute-video")):!0;var n=b(this).data().videoStart?parseInt(b(this).data().videoStart):0,a=b(this).data().videoStop?parseInt(b(this).data().videoStop):0,g=b(this).attr("data-video-loop")?
parseBool(b(this).attr("data-video-loop")):!0;f={videoURL:b(this).data().sceneVideo,mute:f,startAt:n,stopAt:a,loop:g,sceneIndex:c};aa.push(f)}else if("youtube"==b(this).data().videoType){f=b(this).attr("data-mute-video")?parseBool(b(this).attr("data-mute-video")):!0;var k=b(this).data().videoQuality?b(this).data().videoQuality:"highres",n=b(this).data().videoStart?parseInt(b(this).data().videoStart):.01,a=b(this).data().videoStop?parseInt(b(this).data().videoStop):0,g=b(this).attr("data-video-loop")?
parseBool(b(this).attr("data-video-loop")):!1;f={autoPlay:!1,showYTLogo:!1,stopMovieOnBlur:!1,showControls:!1,opacity:1,videoURL:b(this).data().sceneVideo,containment:"."+P[0].className.split(" ")[0],quality:k,mute:f,startAt:n,stopAt:a,loop:g,sceneIndex:c};ga.push(f)}});if(!D&&(0<aa.length||0<ga.length||"video-bg"===t)){"video-bg"!=t&&Y?qa=!0:qa||(Y=!1);if("video-bg"===t&&"html5"===T||0<aa.length){var Z,q,pa;"video-bg"===t&&"html5"===T?(TweenMax.set(X,{autoAlpha:1}),Z=W(Sa,c.data().staticVideo,qa),
q=Z.getPlayer(),q.off("ended"),q.currentTime(ya),q.on("loadeddata",function(){TweenMax.set(pa,{autoAlpha:1});TweenMax.to(X,.5,{autoAlpha:0});q.on("timeupdate",function(){if(0!=Ca&&q.currentTime()>=Ca||0==Ca&&q.currentTime()>=q.duration())Sa?(q.loop(!0),q.currentTime(ya),q.play()):(ba=!0,q.pause())})})):(Z=W(aa[0].loop,aa[0].videoURL,aa[0].mute),q=Z.getPlayer(),q.off("ended"),q.currentTime(aa[0].startAt),q.one("loadeddata",function(){Ha=!0}));pa=P.find("#big-video-wrap");pa.append("<div class='bv-overlay abs-fs'></div>")}if("video-bg"===
t&&"youtube"===T||0<ga.length){"video-bg"===t&&"youtube"===T?(TweenMax.set(X,{autoAlpha:1}),P.append("<div id='bgndVideo' class='player' data-property='{showYTLogo: false, loop: "+Sa+', stopMovieOnBlur: false, quality: "'+Mb+'",showControls: false, videoURL: "'+c.data().staticVideo+'", containment:".'+P[0].className.split(" ")[0]+'", autoPlay: false, mute: '+qa+", startAt: "+ya+", stopAt: "+Ca+", opacity: 1}'>My video</div>")):P.append("<div id='bgndVideo' class='player' data-property="+JSON.stringify(ga[0])+
">My video</div>");var I=P.find("#bgndVideo"),ha,U=I.YTPlayer();U.on("YTPReady",function(){ha=P.find(".mbYTP_wrapper");Ea=!0});U.on("YTPEnd",function(){"video-bg"===t?ba=!0:ja=!1})}}if(w.showAnimationSummary){C.append("<div id='summary-handle'><i class='fa fa-info'></i></div><div id='summary-container'><div class='details'><h3 class='animation-name'></h3><p class='scene-info'></p><h3 class='total-duration'></h3></div></div>");var jb=C.find("#summary-handle"),Kb=C.find("#summary-container .animation-name"),
Jb=C.find("#summary-container .scene-info"),Nb=C.find("#summary-container .total-duration")}var Ob=Y,Va="sound-"+l,B;K.init=function(){K.start(c,"start",w.autoStart);if(w.showAnimationSummary)jb.on("click",function(b){jb.toggleClass("active")});return K};K.start=function(c,q,f){gb=c.clone(!0);ra+=1;n[l]=new TimelineMax({paused:!0,delay:.2,repeat:0,onStart:qb});"single-image"===t&&wb(n[l]);c=c.find(".sven-slide");var z=c.length;c.each(function(a,c){var e=b(this).data(),d=e.anim;if(!e.sceneVideo&&e.sceneImage||
D&&e.sceneImage)e.trans=e.trans?e.trans:"fade-in-bg";e.alignment||(e.alignment="center-center");e.pursueVideo||(e.pursueVideo="yes");e.pursueImage||(e.pursueImage="no");D&&e.mobileAlignment&&(e.alignment=e.mobileAlignment);e.trans||(e.trans="none");D&&e.mobileTrans&&(e.trans=e.mobileTrans);e.freezeTime||(e.freezeTime="default");e.transDur||(e.transDur="default");d||(d="none");var f;f="right-top top-right right-bottom bottom-right right-center center-right".split(" ");f=-1!="left-top top-left left-bottom bottom-left left-center center-left".split(" ").indexOf(e.alignment)?
d+" halign-left":-1!=f.indexOf(e.alignment)?d+" halign-right":d+" halign-center";if("none"!==d){b(this).find(".content-container").wrap("<div class='sven-scene "+f+"'><div class='centered "+e.alignment+"'></div></div>");var g=b(this).find(".content-container"),h=g.find("h1")}a==z-1&&(e.outDur="none",Oa=b(this).attr("id"));yb(b(this),a,e,n[l]);if("sequenital-fall-lt"===d||"sequential-fall-lt"===d)bb(b(this),a,e,g,h,n[l],!0);else if("fall-hide-lt"===d)bb(b(this),a,e,g,h,n[l],!1);else if("appear-lt"===
d){var k=b(this),q=g,m=n[l],v=L(k,e,q,h,!0,!0),h=v.content0.data().inEase?A(v.content0.data().inEase):"",g=v.content0.data().outEase?A(v.content0.data().outEase):"";m.set(v.wrapper0,{opacity:0});if(v.content1){var y=v.content1.data().inEase?v.content1.data().inEase:Bounce.easeOut,t=v.content1.data().outEase?A(v.content1.data().outEase):"";m.set(v.wrapper1,{overflow:"hidden"});m.set([v.content1,v.backdrop1],{y:"-104%"})}m.set(q,{visibility:"visible"});m.addLabel(v.marker);m=N(!0);m.repeat.to(v.wrapper0,
2.5,{delay:.8,opacity:1,ease:h});m["in"].add(m.repeat);v.content1&&m["in"].to([v.content1,v.backdrop1],.8,{y:"0%",ease:y});e.inDur&&m["in"].duration(parseFloat(e.inDur));"none"!=e.outDur&&(v.content1&&m.out.to([v.content1,v.backdrop1],.1,{y:"-100%",ease:t}),m.out.add(m.repeat.tweenFromTo(0,m.repeat.duration(),{ease:g}).timeScale(2).reverse()),e.outDur&&m.out.duration(parseFloat(e.outDur)));O(k,m,a,e,v.marker,q,!0)}else if("rotator-fx-1"===d)Fb(b(this),a,e,g,h,n[l]);else if("rotate-in-reveal-lt"===
d)Cb(b(this),a,e,g,h,n[l]);else if("stripes-reveal-lt"===d)Gb(b(this),a,e,g,h,n[l]);else if("random-reveal-lt"===d)zb(b(this),a,e,g,h,n[l]);else if("rainfall-reveal-lt"===d)Ab(b(this),a,e,g,h,n[l]);else if("scale-reveal-lt"===d)Bb(b(this),a,e,g,h,n[l]);else if("particles-reveal-lt"===d)Db(b(this),a,e,g,h,n[l]);else if("scale-rotate-lt"===d){var k=b(this),q=g,y=n[l],h=L(k,e,q,h,!1,!1),w,d=h.split0;f=h.content0.data().staggerTime?parseFloat(h.content0.data().staggerTime):.05;w=h.content0.data().inPattern?
h.content0.data().inPattern:"sequential";t=h.content0.data().inEase?A(h.content0.data().inEase):Back.easeOut;g=h.content0.data().outEase?A(h.content0.data().outEase):"";d.chars=M(w,d.chars);w=Math.ceil(parseInt(h.content0.css("line-height")));h.content1&&(m=h.content1.data().inEase?h.content1.data().inEase:Bounce.easeOut,v=h.content1.data().outEase?A(h.content1.data().outEase):"",y.set(h.wrapper1,{overflow:"hidden"}),y.set([h.content1,h.backdrop1],{y:"-104%"}));y.set(q,{visibility:"visible"});y.addLabel(h.marker);
y=N(!0);y.repeat.staggerFrom(d.chars,.8,{opacity:0,scale:0,y:w,rotationX:180,transformOrigin:"0% 50%",ease:t},f);y["in"].add(y.repeat);h.content1&&y["in"].to([h.content1,h.backdrop1],.8,{y:"0%",ease:m});e.inDur&&y["in"].duration(parseFloat(e.inDur));"none"!=e.outDur&&(h.content1&&y.out.to([h.content1,h.backdrop1],.1,{y:"-100%",ease:v}),y.out.add(y.repeat.tweenFromTo(0,y.repeat.duration(),{ease:g}).timeScale(2).reverse()),e.outDur&&y.out.duration(parseFloat(e.outDur)));O(k,y,a,e,h.marker,q,!0)}else if("random-alpha-reveal-lt"===
d)Eb(b(this),a,e,g,h,n[l]);else if("blur-reveal-lt"===d)cb(b(this),a,e,g,h,n[l],!1);else if("blur-alpha-lt"===d)cb(b(this),a,e,g,h,n[l],!0);else if("flyin-reveal-lt"===d){var m=b(this),v=g,t=n[l],h=L(m,e,v,h,!1,!1),B;f=h.split0;g=f.chars.slice(0);y=f.chars.slice(0);h.content0.hasClass("place-left")?(d="-"+Math.ceil(h.wrapper0.offset().left+h.wrapper0.outerWidth())+"px",w="sequential",B="reverse"):(d=Math.ceil(Aa(h.wrapper0,m)+h.wrapper0.outerWidth())+"px",w="reverse",B="sequential");t.set(f.chars,
{x:d,opacity:0});w=h.content0.data().inPattern?h.content0.data().inPattern:w;B=h.content0.data().outPattern?h.content0.data().outPattern:B;f=h.content0.data().inEase?A(h.content0.data().inEase):Back.easeOut;d=h.content0.data().outEase?A(h.content0.data().outEase):Back.easeIn.config(4);g=M(w,g);y=M(B,y);if(h.content1){var k=h.content1.data().inEase?h.content1.data().inEase:Back.easeOut,q=h.content1.data().outEase?A(h.content1.data().outEase):"",C;h.content1.hasClass("place-left")?(C=h.content1.offset().left,
w="right center",B="-"+Math.ceil(C+h.content1.outerWidth())+"px"):h.content1.hasClass("place-right")?(C=Aa(h.content1,m),w="left center",B=Math.ceil(C+h.content1.outerWidth())+"px"):(C=Aa(h.backdrop1,m),w="left center",B=Math.ceil(C+h.backdrop1.outerWidth())+"px");C=Ma(C,h.content1);t.set(h.backdrop1,{x:B,transformOrigin:w,scaleX:C});t.set(h.content1,{opacity:0})}t.set(v,{visibility:"visible"});t.addLabel(h.marker);t=N(!0);t["in"].staggerTo(g,1.3,{x:0,opacity:1,ease:f},.15);g=t["in"].duration();h.content1&&
(t.repeat.to(h.backdrop1,.5*g,{scaleX:1,x:0,rotation:.01,ease:k}),t.repeat.to(h.content1,.5,{opacity:1}),t["in"].add(t.repeat,.18*g));e.inDur&&t["in"].duration(parseFloat(e.inDur));"none"!=e.outDur&&(t.out.staggerTo(y,1,{y:"100%",opacity:0,ease:d},.08),h.content1&&t.out.add(t.repeat.tweenFromTo(0,t.repeat.duration(),{ease:q}).timeScale(2).reverse(),.5),e.outDur&&t.out.duration(parseFloat(e.outDur)));O(m,t,a,e,h.marker,v,!0)}else"dominos-reveal-lt"===d?Hb(b(this),a,e,g,h,n[l]):"glitch-one-lt"===d?
Ib(b(this),a,e,g,h,n[l]):"none"!==d&&console.log("The animation you mentioned in "+c.id+" does not exist. Check data-anim spelling for errors")});var a=c=n[l].totalDuration();"default"!=w.fullDuration&&0<w.fullDuration&&(a=w.fullDuration,n[l].totalDuration(a));if(w.showAnimationSummary){var g="Teaser Duration: "+a.toFixed(1)+"s";Nb.html(g)}la=n[l].timeScale();if("single-image"===t&&Ja){var g=new TimelineMax({delay:0}),k=Ja;c="auto"===Qa||isNaN(Qa)?((c-Ya)/c*a).toFixed(1):Qa;"in"===ib?g.fromTo(Q,c,
{scale:1},{scale:k,rotation:.01,transformOrigin:Ba}):"out"===ib?g.fromTo(Q,c,{scale:k},{scale:1,rotation:.01,transformOrigin:Ba}):(g.fromTo(Q,c/2,{scale:1},{scale:k,rotation:.01,transformOrigin:Ba}),g.to(Q,c/2,{scale:1,rotation:.01,transformOrigin:Ba}));ka.add(g,"imageZoomer")}n[l].set({},{immediateRender:!1,onComplete:tb});f?(ma="playing",K.play(q)):(ma="paused",K.seek(q))};K.play=function(b){"start"===b?n[l].play():n[l].play(b);c.trigger("STPlay")};K.seek=function(b){n[l].seek(b);c.trigger("STPause")};
K.restart=function(){n[l].restart()};K.pause=function(){n[l].pause();c.trigger("STPause")};K.continueTeaser=function(){n[l].paused()&&"playing"==ma?(n[l].resume(),c.trigger("STPlay"),"video-bg"!==t||ba||wa(),Ga(),"undefined"==typeof B||"paused"===V||ia||sa()):1<=n[l].progress()&&Na&&(Na=!1,"video-bg"!==t||ba||wa(),Ga(),"paused"===V||ia||"undefined"===typeof B||(B.paused=!1,c.trigger("STUnMuted")))};K.freezeTeaser=function(){n[l].paused()||"playing"!=ma||1<=n[l].progress()?1<=n[l].progress()&&(Na=
!0,"video-bg"!==t||ba||oa(),Fa(),"undefined"===typeof B||ia||(B.paused=!0,c.trigger("STMuted"))):(n[l].pause(),"video-bg"!==t||ba||oa(),Fa(),c.trigger("STPause"),"undefined"===typeof B||ia||(B.paused=!0,c.trigger("STMuted")))};b.fn.svenPlugin.skipToLast=function(){return n[l].currentLabel()!=Oa?(n[l].seek(Oa,!1).play(),"undefined"!==typeof B&&("paused"==V||ia||sa()),!0):!1};b.fn.svenPlugin.togglePlay=function(){n[l].paused()?(n[l].resume(),c.trigger("STPlay"),"video-bg"!==t||ba||wa(),Ga(),"undefined"!=
typeof B&&"paused"!==V&&sa(),ma="playing"):1<=n[l].progress()?("video-bg"!=t&&ab(),ia=ja=ca=ba=!1,n[l].restart(),c.trigger("STPlay"),ma="playing"):(n[l].pause(),"video-bg"!==t||ba||oa(),Fa(),c.trigger("STPause"),"undefined"!==typeof B&&(B.paused=!0,c.trigger("STMuted")),ma="paused")};b.fn.svenPlugin.toggleSound=function(){Y?B.paused?(sa(),V="playing"):"playFinished"!=B.playState&&(B.paused=!0,c.trigger("STMuted"),V="paused"):"video-bg"!==t||qa||("html5"===T?q.muted()?(c.trigger("STUnMuted"),q.muted(!1)):
(c.trigger("STMuted"),q.muted(!0)):U.isMute?(c.trigger("STUnMuted"),I.YTPUnmute(),U.isMute=!1):(c.trigger("STMuted"),I.YTPMute(),U.isMute=!0))};b.fn.svenPlugin.changeSpeed=function(b){w.videoPlaybackChange&&(Z&&q.playbackRate(b),I&&I.YTPGetPlayer().setPlaybackRate(b));b*=la;n[l].timeScale(b)};ea||Y||0<da.length?b(window).load(function(){"xhr"===w.preloadMethod?(G=new createjs.LoadQueue,G.installPlugin(createjs.Sound)):(G=new createjs.LoadQueue(!1),G.installPlugin(createjs.Sound),createjs.Sound.registerPlugins([createjs.HTMLAudioPlugin]));
G.setMaxConnections(500);createjs.Sound.alternateExtensions=["ogg"];G.on("progress",kb);G.on("fileload",lb);G.on("complete",ob);G.on("error",nb);G.on("fileerror",mb);Y&&G.loadFile({id:Va,src:Ob,loadTimeout:w.audioTimeout});0<da.length&&G.loadManifest(da)}):b(window).load(function(){if(!Ea&&("video-bg"===t&&"youtube"===T||!D&&0<ga.length))U.on("YTPReady",function(){0===ra&&(ha=P.find(".mbYTP_wrapper"),va(t))});else va()});b(window).on("debouncedresize",function(d){if(0<ra){if(!D||b(window).width()!=
hb){hb=b(window).width();d=n[l].paused()?!1:!0;var m=n[l].time();n[l].kill();c.remove();c=gb;C.prepend(c);c.find(".sven-slide").each(function(c,d){if(D||!b(this).data().sceneVideo)if(b(this).data().sceneImage||b(this).data().mobileImage&&D){var a=na.find("."+b(this)[0].id+" img"),g;g=D?b(this).data().mobileImagePos?b(this).data().mobileImagePos:"center center":b(this).data().sceneImagePos?b(this).data().sceneImagePos:"center center";g=g.split(" ");imgCoverEffect(a[0],{alignX:g[0],alignY:g[1],watchResize:!1})}});
"single-image"===t&&imgCoverEffect(Q[0],{alignX:fa[0],alignY:fa[1],watchResize:!1});K.start(c,m,d)}}else console.log("TEASER NOT YET INITIALIZED")})};b.fn.svenPlugin=function(c){var S=this;return this.each(function(){if(void 0==b(this).data("svenPlugin")){var W=new b.svenPlugin(S,c);b(this).data("svenPlugin",W)}})}})(jQuery);function randomInt(b,c){return Math.floor(Math.random()*(c-b+1)+b)}function randomFloat(b,c){return(Math.random()*(c-b)+b).toFixed(1)}
function isFloat(b){return b===+b&&b!==(b|0)}function shuffleArray(b){for(var c=b.length-1;0<c;c--){var S=Math.floor(Math.random()*(c+1)),W=b[c];b[c]=b[S];b[S]=W}return b}function centerArray(b){for(var c=[],S=Math.ceil(b.length/2),W=S-1;0<=W;)c.push(b[W--]),S<b.length&&c.push(b[S++]);return c};
